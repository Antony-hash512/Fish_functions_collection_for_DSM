function hcp --description "–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ö–∞—Ä–¥–ª–∏–Ω–∫–∞–º–∏ (–∞–Ω–∞–ª–æ–≥ cp -al —Å –∑–∞—â–∏—Ç–æ–π)"
    # 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–µ—Ä–µ–¥–∞–Ω—ã –ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã
    if test (count $argv) -lt 2
        set_color red
        echo "‚ùå –û—à–∏–±–∫–∞: –ù—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ."
        echo "   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: hcp <–æ—Ç–∫—É–¥–∞> <–∫—É–¥–∞>"
        set_color normal
        return 1
    end

    set -l src $argv[1]
    set -l dest $argv[2]

    # 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
    if not test -d $src
        set_color red
        echo "‚ùå –ò—Å—Ç–æ—á–Ω–∏–∫ '$src' –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ —ç—Ç–æ –Ω–µ –ø–∞–ø–∫–∞."
        set_color normal
        return 1
    end

    # 3. –ï—Å–ª–∏ –ø–∞–ø–∫–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ—Ç ‚Äî —Å–æ–∑–¥–∞–µ–º –µ—ë (mkdir -p)
    if not test -d $dest
        echo "üìÇ –ü–∞–ø–∫–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, —Å–æ–∑–¥–∞—é: $dest"
        mkdir -p $dest
    end

    # 4. –í—ã–ø–æ–ª–Ω—è–µ–º –º–∞–≥–∏—é
    set_color blue
    echo "üîó –õ–∏–Ω–∫—É–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ: $src -> $dest"
    set_color normal

    # –ò—Å–ø–æ–ª—å–∑—É–µ–º "$src/.", —á—Ç–æ–±—ã –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –°–û–î–ï–†–ñ–ò–ú–û–ï –ø–∞–ø–∫–∏, –∞ –Ω–µ —Å–∞–º—É –ø–∞–ø–∫—É –≤–Ω—É—Ç—Ä—å
    # -a: –∞—Ä—Ö–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º (–ø—Ä–∞–≤–∞, –¥–∞—Ç—ã, —Ä–µ–∫—É—Ä—Å–∏—è)
    # -l: —Ö–∞—Ä–¥–ª–∏–Ω–∫–∏
    # -n: –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ (–∑–∞—â–∏—Ç–∞)
    # -v: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å, —á—Ç–æ –¥–µ–ª–∞–µ–º
    cp -alnv "$src/." "$dest/"

    set_color green
    echo "‚úÖ –ì–æ—Ç–æ–≤–æ."
    set_color normal
end
